{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"THREE\"","webpack:///./src/ThreeJsScaffold/threeExtras/controls/OrbitControls.js","webpack:///./src/ThreeJsScaffold/scene.manager.ts","webpack:///./src/ThreeJsScaffold/scene.entity.ts","webpack:///./src/threeJsDemo/ThreeJsSceneEntities/Helpers.ts","webpack:///./src/threeJsDemo/ThreeJsSceneEntities/DirectionalLight.ts","webpack:///./src/threeJsDemo/ThreeJsSceneEntities/Square.ts","webpack:///./src/threeJsDemo/DemoSceneManager.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","THREE","OrbitControls","domElement","this","undefined","document","enabled","target","external_THREE_","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MIDDLE","target0","clone","position0","position","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","max","min","makeSafe","radius","scale","add","panOffset","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","window","onKeyDown","type","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY_PAN","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","body","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","dollyIn","dollyScale","dollyOut","handleMouseDownPan","event","clientX","clientY","preventDefault","focus","button","ctrlKey","metaKey","shiftKey","handleMouseDownRotate","handleMouseDownDolly","addEventListener","subVectors","x","y","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","needsUpdate","keyCode","handleKeyDown","touches","pageX","pageY","handleTouchStartRotate","dx","dy","sqrt","handleTouchStartDollyPan","handleTouchMoveRotate","handleTouchMoveDollyPan","constructor","defineProperties","center","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","scene_manager_SceneManagerBase","[object Object]","_container","_fps","_scene","_sceneEntities","_initialViewingVector","_isSceneReady","_updateCamera","attemptStart","map","el","isSceneEntityReady","every","forEach","getSceneEntityGroup","log","_clock","render","onWindowResize","width","offsetWidth","height","offsetHeight","_camera","aspect","_renderer","setSize","setTimeout","_requestAnimationFrameId","requestAnimationFrame","stopRendering","cancelAnimationFrame","_canvas","createElement","appendChild","DPR","devicePixelRatio","canvas","antialias","alpha","setPixelRatio","gammaInput","gammaOutput","sortObjects","shadowMap","aspectRatio","_orbitControls","onresize","elapsedTime","getElapsedTime","scene_entity_SceneEntityBase","_parentSceneManager","_sceneEntityGroup","_isSceneEntityReady","setParentSceneManager","Helpers_MiscHelpers","parentSceneManager","super","init","axesHelper","time","DirectionalLight_DirectionalLight","light","helper","light1","helper1","Square_Square","sideLength","material","mesh","children","rotation","DemoSceneManager_DemoSceneManager","container","updateCamera","style","backgroundColor","canvasContainer","getElementById","Error","initThreeJs"],"mappings":"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","file":"main.89ad1c8c55eb9ce1b60b.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = THREE;","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\nimport {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tVector2,\n\tVector3\n} from \"three\";\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = false; // if true, pan in screen-space\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.LEFT, MIDDLE: MOUSE.MIDDLE, RIGHT: MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add( panOffset );\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY_PAN: 4 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( event ) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\t// console.log( 'handleKeyDown' );\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\t//console.log( 'handleTouchStartDollyPan' );\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tif ( scope.enablePan ) {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t//console.log( 'handleTouchMoveDollyPan' );\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyIn( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tif ( scope.enablePan ) {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchEnd( event ) {\n\n\t\t//console.log( 'handleTouchEnd' );\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\t// Prevent the browser from scrolling.\n\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase scope.mouseButtons.LEFT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.MIDDLE:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.RIGHT:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly-pan\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly-pan\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY_PAN ) return; // is this needed?\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\nObject.defineProperties( OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\treturn this.target;\n\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\treturn ! this.enableZoom;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\tthis.enableZoom = ! value;\n\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\treturn ! this.enableRotate;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\tthis.enableRotate = ! value;\n\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\treturn ! this.enablePan;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\tthis.enablePan = ! value;\n\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\treturn ! this.enableKeys;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\tthis.enableKeys = ! value;\n\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\treturn ! this.enableDamping;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\tthis.enableDamping = ! value;\n\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\treturn this.dampingFactor;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\tthis.dampingFactor = value;\n\n\t\t}\n\n\t}\n\n} );\n\nexport { OrbitControls };\n","import * as THREE from 'three';\nimport { OrbitControls } from './threeExtras/controls/OrbitControls';\nimport { ISceneEntity } from './scene.entity';\n\nexport class SceneManagerBase {\n  // Essential Properties for a threeJs production\n  protected _scene: THREE.Scene = new THREE.Scene();\n  protected _renderer: THREE.WebGLRenderer;\n  protected _canvas: HTMLCanvasElement;\n  protected _camera: THREE.PerspectiveCamera;\n  protected _sceneEntities: ISceneEntity[] = [];\n  protected _requestAnimationFrameId: undefined | number;\n  protected _orbitControls: OrbitControls;\n  protected _clock: THREE.Clock | undefined;\n  protected _initialViewingVector: THREE.Vector3 = new THREE.Vector3(10, 10, 10);\n  protected _isSceneReady: boolean = false;\n  protected _updateCamera: (time: number) => void = () => {};\n\n  constructor(protected _container: HTMLElement, private _fps: number = 60) {\n    // Set up canvas to fit precisely within HTML-container element\n    this._canvas = document.createElement('canvas');\n    this._canvas.width = this._container.offsetWidth;\n    this._canvas.height = _container.offsetHeight;\n    this._container.appendChild(this._canvas);\n\n    // Build Renderer\n    const DPR: number = window.devicePixelRatio ? window.devicePixelRatio : 1;\n    this._renderer = new THREE.WebGLRenderer({\n      canvas: this._canvas,\n      antialias: true,\n      alpha: true\n    });\n    this._renderer.setPixelRatio(DPR);\n    this._renderer.gammaInput = true;\n    this._renderer.gammaOutput = true;\n    this._renderer.sortObjects = false; // This prevents pesky rendering-disruption effect\n    this._renderer.shadowMap.enabled = true;\n    this._renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    // Build Camera\n    const aspectRatio: number = this._canvas.width / this._canvas.height;\n    const fieldOfView: number = 60;\n    const nearPlane: number = 0.1; // Wow! Beware: changing this causes/fixes flickering/artifact-ing !!!\n    const farPlane: number = 13500;\n    this._camera = new THREE.PerspectiveCamera(fieldOfView, aspectRatio, nearPlane, farPlane);\n    this._camera.position.copy(this._initialViewingVector);\n    this._camera.up = new THREE.Vector3(0, 0, 1); // Vector defining up direction of camera\n    this._camera.lookAt(0, 0, 0);\n\n    // Define and configure orbitControls\n    this._orbitControls = new OrbitControls(this._camera, this._renderer.domElement);\n    this._orbitControls.enableDamping = true; // an animation loop is required when either damping or auto-rotation are enabled\n    this._orbitControls.dampingFactor = 0.25;\n\n    // Set up window event listeners\n    window.onresize = this.onWindowResize;\n    this.onWindowResize();\n  }\n\n  attemptStart = () => {\n    // Check if ALL sceneEntities have been declared ready\n    this._isSceneReady =\n      !!this._sceneEntities &&\n      this._sceneEntities.map(el => el.isSceneEntityReady()).every(el => el);\n\n    if (!!this._isSceneReady) {\n      // Add each entity's THREE.Group to scene\n      this._sceneEntities.forEach(el => {\n        this._scene.add(el.getSceneEntityGroup());\n      });\n      // Begin Clock and start animating\n      console.log('STARTING ANIMATION!');\n      this._clock = new THREE.Clock();\n      this.render();\n    } else {\n      console.log('SCENE ENTITIES ARE NOT ALL READY!');\n    }\n  };\n\n  update() {\n    // Loop through scene entities and trigger their update methods\n    const elapsedTime: number = !!this._clock ? this._clock.getElapsedTime() : 0;\n    this._sceneEntities.forEach(el => el.update(elapsedTime));\n\n    // Update camera\n    this._updateCamera(elapsedTime);\n\n    // Finish loop\n    this._renderer.render(this._scene, this._camera);\n  }\n\n  ///////////////////////////////\n  // RENDERING METHODS\n  ///////////////////////////////\n\n  onWindowResize = () => {\n    const width = this._container.offsetWidth;\n    const height = this._container.offsetHeight;\n\n    this._camera.aspect = width / height;\n    this._camera.updateProjectionMatrix();\n    this._renderer.setSize(width, height);\n  };\n\n  render = () => {\n    if (!!this._fps) {\n      setTimeout(() => {\n        this._requestAnimationFrameId = requestAnimationFrame(this.render);\n        this.update();\n      }, 1000 / this._fps);\n    } else {\n      this._requestAnimationFrameId = requestAnimationFrame(this.render);\n      this.update();\n    }\n  };\n\n  stopRendering = () => {\n    if (!!this._requestAnimationFrameId) {\n      cancelAnimationFrame(this._requestAnimationFrameId);\n      this._requestAnimationFrameId = undefined;\n    }\n  };\n}\n\n/**\n * Every instance of an ISceneManage\n */\nexport interface ISceneManager extends SceneManagerBase {\n  updateCamera: (time: number) => void;\n}\n","import * as THREE from 'three';\nimport { ISceneManager } from './scene.manager';\n\n/**\n * Base class that any entity must extend in order that its threeJs group\n * might get added to the threeJs scene owned by the manager\n */\nexport class SceneEntityBase {\n  // Class properties built from scratch\n  protected _sceneEntityGroup: THREE.Group = new THREE.Group();\n  protected _isSceneEntityReady: boolean = false;\n\n  // Class properties passed on creation\n  constructor(protected _parentSceneManager: ISceneManager) {}\n\n  // Get Methods\n  public isSceneEntityReady = () => this._isSceneEntityReady;\n  public getSceneEntityGroup = () => this._sceneEntityGroup;\n\n  // Set Methods\n  public setParentSceneManager = (value: ISceneManager) => (this._parentSceneManager = value);\n}\n\n/**\n * The interface that any scene entity must implement in order that it can get added\n * to the scene\n *\n * NOTES:\n * - init: method to declare three geometries, add them to entity's group, and\n * - update: function of time tracked by the SceneManager that determines the state\n * of the threeJs meshes, lights, etc. within the scene entity's THREE.Group\n */\nexport interface ISceneEntity extends SceneEntityBase {\n  init: () => void;\n  update: (time: number) => void;\n}\n","import * as THREE from 'three';\nimport { ISceneEntity, SceneEntityBase } from '../../ThreeJsScaffold/scene.entity';\nimport { ISceneManager } from '../../ThreeJsScaffold/scene.manager';\n\nexport class MiscHelpers extends SceneEntityBase implements ISceneEntity {\n  constructor(parentSceneManager: ISceneManager) {\n    super(parentSceneManager);\n  }\n\n  init = () => {\n    const axesHelper = new THREE.AxesHelper(500);\n    this._sceneEntityGroup.add(axesHelper);\n\n    // Finish\n    this._isSceneEntityReady = true;\n    this._parentSceneManager.attemptStart();\n  };\n\n  update = (time: number) => {\n    //\n  };\n}\n","import * as THREE from 'three';\nimport { ISceneEntity, SceneEntityBase } from '../../ThreeJsScaffold/scene.entity';\nimport { ISceneManager } from '../../ThreeJsScaffold/scene.manager';\n\nexport class DirectionalLight extends SceneEntityBase implements ISceneEntity {\n  constructor(parentSceneManager: ISceneManager) {\n    super(parentSceneManager);\n  }\n\n  init = () => {\n    const light = new THREE.DirectionalLight(0xffffff);\n    light.position.set(10, 10, 10);\n    light.lookAt(0, 0, 0);\n    const helper = new THREE.DirectionalLightHelper(light, 5);\n\n    this._sceneEntityGroup.add(light);\n    this._sceneEntityGroup.add(helper);\n\n    const light1 = new THREE.DirectionalLight(0xffffff, 0.5);\n    light1.position.set(-5, -5, -5);\n    light1.lookAt(0, 0, 0);\n    const helper1 = new THREE.DirectionalLightHelper(light1, 5);\n\n    this._sceneEntityGroup.add(light1);\n    this._sceneEntityGroup.add(helper1);\n\n    // Finish\n    this._isSceneEntityReady = true;\n    this._parentSceneManager.attemptStart();\n  };\n\n  update = (time: number) => {\n    // Move light around, etc.\n  };\n}\n","import * as THREE from 'three';\nimport { ISceneEntity, SceneEntityBase } from '../../ThreeJsScaffold/scene.entity';\nimport { ISceneManager } from '../../ThreeJsScaffold/scene.manager';\n\nexport class Square extends SceneEntityBase implements ISceneEntity {\n  constructor(parentSceneManager: ISceneManager, private sideLength: number) {\n    super(parentSceneManager);\n  }\n\n  init = () => {\n    // Build Square Mesh\n\n    const isSimple = true;\n\n    // const material =   new THREE.MeshNormalMaterial();\n\n    // const material = new THREE.MeshBasicMaterial({\n    //       map: new THREE.TextureLoader().load(`/images/scipio.jpg`, () => {\n    //         this._isSceneEntityReady = true;\n    //         this._parentSceneManager.attemptStart();\n    //       })\n    //     });\n\n    const material = new THREE.MeshPhongMaterial();\n\n    const mesh = new THREE.Mesh(\n      new THREE.BoxGeometry(this.sideLength, this.sideLength, this.sideLength),\n      material\n    );\n\n    this._sceneEntityGroup.add(mesh);\n\n    // Finish\n    if (!!isSimple) {\n      this._isSceneEntityReady = true;\n      this._parentSceneManager.attemptStart();\n    }\n  };\n\n  update = (time: number) => {\n    this._sceneEntityGroup.children.forEach(el => {\n      el.rotation.x += 0.01;\n      el.rotation.y += 0.02;\n    });\n  };\n}\n","import { SceneManagerBase, ISceneManager } from '../ThreeJsScaffold/scene.manager';\nimport { MiscHelpers } from './ThreeJsSceneEntities/Helpers';\nimport { DirectionalLight } from './ThreeJsSceneEntities/DirectionalLight';\nimport { Square } from './ThreeJsSceneEntities/Square';\n\nexport class DemoSceneManager extends SceneManagerBase implements ISceneManager {\n  constructor(container: HTMLElement) {\n    super(container);\n\n    // Style canvas\n    container.style.backgroundColor = 'rgba(0,0,0,1)';\n\n    // Create entities\n    this._sceneEntities = [\n      //\n      new DirectionalLight(this),\n      new MiscHelpers(this),\n      // new SimpleLight(this),\n      new Square(this, 1)\n    ];\n\n    // Set this as entities parent\n    this._sceneEntities.forEach(el => el.init());\n  }\n\n  updateCamera = (time: number) => {\n    //\n  };\n}\n","import { DemoSceneManager } from './threeJsDemo/DemoSceneManager';\nimport './global.scss';\n\ninitThreeJs();\nif (process.env.NODE_ENV === 'development') displayFpsStats();\n\n/**\n * Create threeJs canvas and inject into container\n */\nfunction initThreeJs() {\n  const containerId = 'canvas-container';\n  const canvasContainer = document.getElementById('canvas-container');\n  if (!!canvasContainer) {\n    const demo = new DemoSceneManager(canvasContainer);\n  } else {\n    throw new Error('No container with id ' + containerId + ' found!!!');\n  }\n}\n\n/**\n * Loads and runs stats.min.js to display FPS, etc.\n */\nfunction displayFpsStats() {\n  const script = document.createElement('script');\n  script.onload = () => {\n    // @ts-ignore\n    const stats = new Stats();\n    document.body.appendChild(stats.dom);\n    requestAnimationFrame(function loop() {\n      stats.update();\n      requestAnimationFrame(loop);\n    });\n  };\n  script.src = '//mrdoob.github.io/stats.js/build/stats.min.js';\n  document.head.appendChild(script);\n}\n"],"sourceRoot":""}