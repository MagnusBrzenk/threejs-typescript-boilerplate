!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=THREE},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new a.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:a.MOUSE.LEFT,MIDDLE:a.MOUSE.MIDDLE,RIGHT:a.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),c=s.NONE},this.update=function(){var t=new a.Vector3,o=(new a.Quaternion).setFromUnitVectors(e.up,new a.Vector3(0,1,0)),r=o.clone().inverse(),f=new a.Vector3,b=new a.Quaternion;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(o),l.setFromVector3(t),n.autoRotate&&c===s.NONE&&x(2*Math.PI/60/60*n.autoRotateSpeed),l.theta+=u.theta,l.phi+=u.phi,l.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=p,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),n.target.add(d),t.setFromSpherical(l),t.applyQuaternion(r),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),d.set(0,0,0)),p=1,!!(m||f.distanceToSquared(n.object.position)>h||8*(1-b.dot(n.object.quaternion))>h)&&(n.dispatchEvent(i),f.copy(n.object.position),b.copy(n.object.quaternion),m=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",z,!1),n.domElement.removeEventListener("mousedown",C,!1),n.domElement.removeEventListener("wheel",V,!1),n.domElement.removeEventListener("touchstart",N,!1),n.domElement.removeEventListener("touchend",H,!1),n.domElement.removeEventListener("touchmove",D,!1),document.removeEventListener("mousemove",F,!1),document.removeEventListener("mouseup",k,!1),window.removeEventListener("keydown",I,!1)};var n=this,i={type:"change"},o={type:"start"},r={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},c=s.NONE,h=1e-6,l=new a.Spherical,u=new a.Spherical,p=1,d=new a.Vector3,m=!1,f=new a.Vector2,b=new a.Vector2,g=new a.Vector2,v=new a.Vector2,y=new a.Vector2,E=new a.Vector2,w=new a.Vector2,_=new a.Vector2,L=new a.Vector2;function M(){return Math.pow(.95,n.zoomSpeed)}function x(e){u.theta-=e}function O(e){u.phi-=e}var j=function(){var e=new a.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),P=function(){var e=new a.Vector3;return function(t,a){!0===n.screenSpacePanning?e.setFromMatrixColumn(a,1):(e.setFromMatrixColumn(a,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),S=function(){var e=new a.Vector3;return function(t,a){var i=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var r=e.length();r*=Math.tan(n.object.fov/2*Math.PI/180),j(2*t*r/i.clientHeight,n.object.matrix),P(2*a*r/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(j(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),P(a*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function T(e){n.object.isPerspectiveCamera?p/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function A(e){n.object.isPerspectiveCamera?p*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function R(e){v.set(e.clientX,e.clientY)}function C(e){if(!1!==n.enabled){switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case n.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;R(e),c=s.PAN}else{if(!1===n.enableRotate)return;!function(e){f.set(e.clientX,e.clientY)}(e),c=s.ROTATE}break;case n.mouseButtons.MIDDLE:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),c=s.DOLLY;break;case n.mouseButtons.RIGHT:if(!1===n.enablePan)return;R(e),c=s.PAN}c!==s.NONE&&(document.addEventListener("mousemove",F,!1),document.addEventListener("mouseup",k,!1),n.dispatchEvent(o))}}function F(e){if(!1!==n.enabled)switch(e.preventDefault(),c){case s.ROTATE:if(!1===n.enableRotate)return;!function(e){b.set(e.clientX,e.clientY),g.subVectors(b,f).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;x(2*Math.PI*g.x/t.clientHeight),O(2*Math.PI*g.y/t.clientHeight),f.copy(b),n.update()}(e);break;case s.DOLLY:if(!1===n.enableZoom)return;!function(e){_.set(e.clientX,e.clientY),L.subVectors(_,w),L.y>0?T(M()):L.y<0&&A(M()),w.copy(_),n.update()}(e);break;case s.PAN:if(!1===n.enablePan)return;!function(e){y.set(e.clientX,e.clientY),E.subVectors(y,v).multiplyScalar(n.panSpeed),S(E.x,E.y),v.copy(y),n.update()}(e)}}function k(e){!1!==n.enabled&&(document.removeEventListener("mousemove",F,!1),document.removeEventListener("mouseup",k,!1),n.dispatchEvent(r),c=s.NONE)}function V(e){!1===n.enabled||!1===n.enableZoom||c!==s.NONE&&c!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(o),function(e){e.deltaY<0?A(M()):e.deltaY>0&&T(M()),n.update()}(e),n.dispatchEvent(r))}function I(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:S(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:S(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:S(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:S(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function N(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===n.enableRotate)return;!function(e){f.set(e.touches[0].pageX,e.touches[0].pageY)}(e),c=s.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+a*a);w.set(0,i)}if(n.enablePan){var o=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(o,r)}}(e),c=s.TOUCH_DOLLY_PAN;break;default:c=s.NONE}c!==s.NONE&&n.dispatchEvent(o)}}function D(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===n.enableRotate)return;if(c!==s.TOUCH_ROTATE)return;!function(e){b.set(e.touches[0].pageX,e.touches[0].pageY),g.subVectors(b,f).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;x(2*Math.PI*g.x/t.clientHeight),O(2*Math.PI*g.y/t.clientHeight),f.copy(b),n.update()}(e);break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;if(c!==s.TOUCH_DOLLY_PAN)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+a*a);_.set(0,i),L.set(0,Math.pow(_.y/w.y,n.zoomSpeed)),T(L.y),w.copy(_)}if(n.enablePan){var o=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(o,r),E.subVectors(y,v).multiplyScalar(n.panSpeed),S(E.x,E.y),v.copy(y)}n.update()}(e);break;default:c=s.NONE}}function H(e){!1!==n.enabled&&(n.dispatchEvent(r),c=s.NONE)}function z(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",z,!1),n.domElement.addEventListener("mousedown",C,!1),n.domElement.addEventListener("wheel",V,!1),n.domElement.addEventListener("touchstart",N,!1),n.domElement.addEventListener("touchend",H,!1),n.domElement.addEventListener("touchmove",D,!1),window.addEventListener("keydown",I,!1),this.update()};i.prototype=Object.create(a.EventDispatcher.prototype),i.prototype.constructor=i,Object.defineProperties(i.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});class o{constructor(e,t=60){this._container=e,this._fps=t,this._scene=new a.Scene,this._sceneEntities=[],this._initialViewingVector=new a.Vector3(10,10,10),this._isSceneReady=!1,this._updateCamera=()=>{},this.attemptStart=()=>{this._isSceneReady=!!this._sceneEntities&&this._sceneEntities.map(e=>e.isSceneEntityReady()).every(e=>e),this._isSceneReady?(this._sceneEntities.forEach(e=>{this._scene.add(e.getSceneEntityGroup())}),console.log("STARTING ANIMATION!"),this._clock=new a.Clock,this.render()):console.log("SCENE ENTITIES ARE NOT ALL READY!")},this.onWindowResize=()=>{const e=this._container.offsetWidth,t=this._container.offsetHeight;this._camera.aspect=e/t,this._camera.updateProjectionMatrix(),this._renderer.setSize(e,t)},this.render=()=>{this._fps?setTimeout(()=>{this._requestAnimationFrameId=requestAnimationFrame(this.render),this.update()},1e3/this._fps):(this._requestAnimationFrameId=requestAnimationFrame(this.render),this.update())},this.stopRendering=()=>{this._requestAnimationFrameId&&(cancelAnimationFrame(this._requestAnimationFrameId),this._requestAnimationFrameId=void 0)},this._canvas=document.createElement("canvas"),this._canvas.width=this._container.offsetWidth,this._canvas.height=e.offsetHeight,this._container.appendChild(this._canvas);const n=window.devicePixelRatio?window.devicePixelRatio:1;this._renderer=new a.WebGLRenderer({canvas:this._canvas,antialias:!0,alpha:!0}),this._renderer.setPixelRatio(n),this._renderer.gammaInput=!0,this._renderer.gammaOutput=!0,this._renderer.sortObjects=!1,this._renderer.shadowMap.enabled=!0,this._renderer.shadowMap.type=a.PCFSoftShadowMap;const o=this._canvas.width/this._canvas.height;this._camera=new a.PerspectiveCamera(60,o,.1,13500),this._camera.position.copy(this._initialViewingVector),this._camera.up=new a.Vector3(0,0,1),this._camera.lookAt(0,0,0),this._orbitControls=new i(this._camera,this._renderer.domElement),this._orbitControls.enableDamping=!0,this._orbitControls.dampingFactor=.25,window.onresize=this.onWindowResize,this.onWindowResize()}update(){const e=this._clock?this._clock.getElapsedTime():0;this._sceneEntities.forEach(t=>t.update(e)),this._updateCamera(e),this._renderer.render(this._scene,this._camera)}}class r{constructor(e){this._parentSceneManager=e,this._sceneEntityGroup=new a.Group,this._isSceneEntityReady=!1,this.isSceneEntityReady=()=>this._isSceneEntityReady,this.getSceneEntityGroup=()=>this._sceneEntityGroup,this.setParentSceneManager=e=>this._parentSceneManager=e}}class s extends r{constructor(e){super(e),this.init=()=>{const e=new a.AxesHelper(500);this._sceneEntityGroup.add(e),this._isSceneEntityReady=!0,this._parentSceneManager.attemptStart()},this.update=e=>{}}}class c extends r{constructor(e,t=!1){super(e),this._isHelpersEnabled=t,this.init=()=>{const e=new a.DirectionalLight(16777215);e.position.set(10,10,10),e.lookAt(0,0,0);const t=new a.DirectionalLightHelper(e,5);this._sceneEntityGroup.add(e),this._sceneEntityGroup.add(t);const n=new a.DirectionalLight(16777215,.5);n.position.set(-5,-5,-5),n.lookAt(0,0,0);const i=new a.DirectionalLightHelper(n,5);this._sceneEntityGroup.add(n),this._isHelpersEnabled&&this._sceneEntityGroup.add(i),this._isSceneEntityReady=!0,this._parentSceneManager.attemptStart()},this.update=e=>{}}}!function(e){e.MTLLoader=function(t){this.manager=void 0!==t?t:e.DefaultLoadingManager},e.MTLLoader.prototype={constructor:e.MTLLoader,load:function(t,n,a,i){var o=this,r=new e.FileLoader(this.manager);r.setPath(this.path),r.load(t,function(e){n(o.parse(e))},a,i)},setPath:function(e){return this.path=e,this},setTexturePath:function(e){return this.texturePath=e,this},setBaseUrl:function(e){return console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setMaterialOptions:function(e){return this.materialOptions=e,this},parse:function(t){for(var n=t.split("\n"),a={},i=/\s+/,o={},r=0;r<n.length;r++){var s=n[r];if(0!==(s=s.trim()).length&&"#"!==s.charAt(0)){var c=s.indexOf(" "),h=c>=0?s.substring(0,c):s;h=h.toLowerCase();var l=c>=0?s.substring(c+1):"";if(l=l.trim(),"newmtl"===h)a={name:l},o[l]=a;else if(a)if("ka"===h||"kd"===h||"ks"===h){var u=l.split(i,3);a[h]=[parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2])]}else a[h]=l}}var p=new e.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return p.setCrossOrigin(this.crossOrigin),p.setManager(this.manager),p.setMaterials(o),p}},e.MTLLoader.MaterialCreator=function(t,n){this.baseUrl=t||"",this.options=n,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:e.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:e.RepeatWrapping},e.MTLLoader.MaterialCreator.prototype={constructor:e.MTLLoader.MaterialCreator,crossOrigin:"Anonymous",setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var a=e[n],i={};for(var o in t[n]=i,a){var r=!0,s=a[o],c=o.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(r=!1)}r&&(i[c]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(t){var n=this,a=this.materialsInfo[t],i={name:t,side:this.side};function o(e,t){if(!i[e]){var a,o,r=n.getTextureParams(t,i),s=n.loadTexture((a=n.baseUrl,"string"!==typeof(o=r.url)||""===o?"":/^https?:\/\//i.test(o)?o:a+o));s.repeat.copy(r.scale),s.offset.copy(r.offset),s.wrapS=n.wrap,s.wrapT=n.wrap,i[e]=s}}for(var r in a){var s,c=a[r];if(""!==c)switch(r.toLowerCase()){case"kd":i.color=(new e.Color).fromArray(c);break;case"ks":i.specular=(new e.Color).fromArray(c);break;case"map_kd":o("map",c);break;case"map_ks":o("specularMap",c);break;case"norm":o("normalMap",c);break;case"map_bump":case"bump":o("bumpMap",c);break;case"ns":i.shininess=parseFloat(c);break;case"d":(s=parseFloat(c))<1&&(i.opacity=s,i.transparent=!0);break;case"tr":s=parseFloat(c),this.options&&this.options.invertTrProperty&&(s=1-s),s>0&&(i.opacity=1-s,i.transparent=!0)}}return this.materials[t]=new e.MeshPhongMaterial(i),this.materials[t]},getTextureParams:function(t,n){var a,i={scale:new e.Vector2(1,1),offset:new e.Vector2(0,0)},o=t.split(/\s+/);return(a=o.indexOf("-bm"))>=0&&(n.bumpScale=parseFloat(o[a+1]),o.splice(a,2)),(a=o.indexOf("-s"))>=0&&(i.scale.set(parseFloat(o[a+1]),parseFloat(o[a+2])),o.splice(a,4)),(a=o.indexOf("-o"))>=0&&(i.offset.set(parseFloat(o[a+1]),parseFloat(o[a+2])),o.splice(a,4)),i.url=o.join(" ").trim(),i},loadTexture:function(t,n,a,i,o){var r,s=e.Loader.Handlers.get(t),c=void 0!==this.manager?this.manager:e.DefaultLoadingManager;return null===s&&(s=new e.TextureLoader(c)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),r=s.load(t,a,i,o),void 0!==n&&(r.mapping=n),r}}}(a),function(e){e.OBJLoader=function(){var t=/^[og]\s*(.+)?/,n=/^mtllib /,a=/^usemtl /;function i(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var a={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"===typeof n.clone){var a=n.clone(0);a.inherited=!0,this.object.materials.push(a)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var a=this.vertices,i=this.object.geometry.vertices;i.push(a[e+0],a[e+1],a[e+2]),i.push(a[t+0],a[t+1],a[t+2]),i.push(a[n+0],a[n+1],a[n+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){var a=this.normals,i=this.object.geometry.normals;i.push(a[e+0],a[e+1],a[e+2]),i.push(a[t+0],a[t+1],a[t+2]),i.push(a[n+0],a[n+1],a[n+2])},addColor:function(e,t,n){var a=this.colors,i=this.object.geometry.colors;i.push(a[e+0],a[e+1],a[e+2]),i.push(a[t+0],a[t+1],a[t+2]),i.push(a[n+0],a[n+1],a[n+2])},addUV:function(e,t,n){var a=this.uvs,i=this.object.geometry.uvs;i.push(a[e+0],a[e+1]),i.push(a[t+0],a[t+1]),i.push(a[n+0],a[n+1])},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,a,i,o,r,s,c){var h=this.vertices.length,l=this.parseVertexIndex(e,h),u=this.parseVertexIndex(t,h),p=this.parseVertexIndex(n,h);if(this.addVertex(l,u,p),void 0!==a&&""!==a){var d=this.uvs.length;l=this.parseUVIndex(a,d),u=this.parseUVIndex(i,d),p=this.parseUVIndex(o,d),this.addUV(l,u,p)}if(void 0!==r&&""!==r){var m=this.normals.length;l=this.parseNormalIndex(r,m),u=r===s?l:this.parseNormalIndex(s,m),p=r===c?l:this.parseNormalIndex(c,m),this.addNormal(l,u,p)}this.colors.length>0&&this.addColor(l,u,p)},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,n=0,a=e.length;n<a;n++)this.addVertexPoint(this.parseVertexIndex(e[n],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,a=this.uvs.length,i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));var r=0;for(o=t.length;r<o;r++)this.addUVLine(this.parseUVIndex(t[r],a))}};return e.startObject("",!1),e}function o(t){this.manager=void 0!==t?t:e.DefaultLoadingManager,this.materials=null}return o.prototype={constructor:o,load:function(t,n,a,i){var o=this,r=new e.FileLoader(o.manager);r.setPath(this.path),r.load(t,function(e){n(o.parse(e))},a,i)},setPath:function(e){return this.path=e,this},setMaterials:function(e){return this.materials=e,this},parse:function(o){console.time("OBJLoader");var r=new i;-1!==o.indexOf("\r\n")&&(o=o.replace(/\r\n/g,"\n")),-1!==o.indexOf("\\\n")&&(o=o.replace(/\\\n/g,""));for(var s=o.split("\n"),c="",h="",l=[],u="function"===typeof"".trimLeft,p=0,d=s.length;p<d;p++)if(c=s[p],0!==(c=u?c.trimLeft():c.trim()).length&&"#"!==(h=c.charAt(0)))if("v"===h){var m=c.split(/\s+/);switch(m[0]){case"v":r.vertices.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),8===m.length&&r.colors.push(parseFloat(m[4]),parseFloat(m[5]),parseFloat(m[6]));break;case"vn":r.normals.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));break;case"vt":r.uvs.push(parseFloat(m[1]),parseFloat(m[2]))}}else if("f"===h){for(var f=c.substr(1).trim().split(/\s+/),b=[],g=0,v=f.length;g<v;g++){var y=f[g];if(y.length>0){var E=y.split("/");b.push(E)}}var w=b[0];for(g=1,v=b.length-1;g<v;g++){var _=b[g],L=b[g+1];r.addFace(w[0],_[0],L[0],w[1],_[1],L[1],w[2],_[2],L[2])}}else if("l"===h){var M=c.substring(1).trim().split(" "),x=[],O=[];if(-1===c.indexOf("/"))x=M;else for(var j=0,P=M.length;j<P;j++){var S=M[j].split("/");""!==S[0]&&x.push(S[0]),""!==S[1]&&O.push(S[1])}r.addLineGeometry(x,O)}else if("p"===h){var T=c.substr(1).trim().split(" ");r.addPointGeometry(T)}else if(null!==(l=t.exec(c))){var A=(" "+l[0].substr(1).trim()).substr(1);r.startObject(A)}else if(a.test(c))r.object.startMaterial(c.substring(7).trim(),r.materialLibraries);else if(n.test(c))r.materialLibraries.push(c.substring(7).trim());else{if("s"!==h){if("\0"===c)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+c+'"')}if((l=c.split(" ")).length>1){var R=l[1].trim().toLowerCase();r.object.smooth="0"!==R&&"off"!==R}else r.object.smooth=!0;(Z=r.object.currentMaterial())&&(Z.smooth=r.object.smooth)}r.finalize();var C=new e.Group;for(C.materialLibraries=[].concat(r.materialLibraries),p=0,d=r.objects.length;p<d;p++){var F=r.objects[p],k=F.geometry,V=F.materials,I="Line"===k.type,N="Points"===k.type,D=!1;if(0!==k.vertices.length){var H=new e.BufferGeometry;H.addAttribute("position",new e.Float32BufferAttribute(k.vertices,3)),k.normals.length>0?H.addAttribute("normal",new e.Float32BufferAttribute(k.normals,3)):H.computeVertexNormals(),k.colors.length>0&&(D=!0,H.addAttribute("color",new e.Float32BufferAttribute(k.colors,3))),k.uvs.length>0&&H.addAttribute("uv",new e.Float32BufferAttribute(k.uvs,2));for(var z,U=[],G=0,B=V.length;G<B;G++){var Y=V[G],Z=void 0;if(null!==this.materials)if(Z=this.materials.create(Y.name),!I||!Z||Z instanceof e.LineBasicMaterial){if(N&&Z&&!(Z instanceof e.PointsMaterial)){var X=new e.PointsMaterial({size:10,sizeAttenuation:!1});q.copy(Z),Z=X}}else{var q=new e.LineBasicMaterial;q.copy(Z),q.lights=!1,Z=q}Z||((Z=I?new e.LineBasicMaterial:N?new e.PointsMaterial({size:1,sizeAttenuation:!1}):new e.MeshPhongMaterial).name=Y.name),Z.flatShading=!Y.smooth,Z.vertexColors=D?e.VertexColors:e.NoColors,U.push(Z)}if(U.length>1){for(G=0,B=V.length;G<B;G++)Y=V[G],H.addGroup(Y.groupStart,Y.groupCount,G);z=I?new e.LineSegments(H,U):N?new e.Points(H,U):new e.Mesh(H,U)}else z=I?new e.LineSegments(H,U[0]):N?new e.Points(H,U[0]):new e.Mesh(H,U[0]);z.name=F.name,C.add(z)}}return console.timeEnd("OBJLoader"),C}},o}()}(a);class h extends r{constructor(e,t){super(e),this.sideLength=t,this.init=()=>{!function(e,t,n,i){(new a.MTLLoader).load(e,e=>{e.preload();const o=new a.OBJLoader;console.log("Materials",e),o.setMaterials(e),o.load(t,e=>{let t=Math.pow(10,-10);e.traverse(e=>{console.log("A child!"),e instanceof a.Mesh&&(e.geometry.computeBoundingSphere(),e.geometry&&e.geometry.boundingSphere&&e.geometry.boundingSphere.radius>t&&(t=e.geometry.boundingSphere.radius))}),console.log("biggestSphereRadius",t);const o=n/t;e.scale.set(o,o,o),(new a.Box3).setFromObject(e).getCenter(e.position),e.position.multiplyScalar(-1),i(e)},e=>{console.log(e.loaded/e.total*100+"% loaded")},e=>{console.log("An error happened")})})}("images/monster-confrontation2.mtl","images/monster-confrontation2.obj",10,e=>{e.rotateX(Math.PI/2),this._sceneEntityGroup.add(e),this._isSceneEntityReady=!0,this._parentSceneManager.attemptStart()})},this.update=e=>{this._sceneEntityGroup.children.forEach(e=>{e.rotation.y+=.02})}}}class l extends r{constructor(e){super(e),this.init=()=>{this._sceneEntityGroup.add(new a.AmbientLight(3355443,1)),this._isSceneEntityReady=!0,this._parentSceneManager.attemptStart()},this.update=e=>{}}}class u extends o{constructor(e){super(e),this.updateCamera=e=>{},e.style.backgroundColor="rgba(0,0,0,1)",this._sceneEntities=[new c(this),new s(this),new l(this),new h(this,1)],this._sceneEntities.forEach(e=>e.init())}}n(1);!function(){const e=document.getElementById("canvas-container");if(!e)throw new Error("No container with id canvas-container found!!!");new u(e)}()}]);